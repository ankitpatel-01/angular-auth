<div class="container">
    <form [formGroup]="patientFormGroup">
        <div class="mb-3">
            <label for="patientMobileNumber" class="form-label">Mobile Number</label>
            <input type="text" class="form-control" id="patientMobileNumber" placeholder="Mobile Number"
                formControlName="patientMobileNumber" (ngModelChange)="onMobileNumberChange($event)"
                (keydown.backspace)="restForm()">
        </div>
        <div class="mb-3">
            <label for="patientEmail" class="form-label">Email</label>
            <input type="text" class="form-control" id="patientEmail" placeholder="Email"
                formControlName="patientEmailId">
        </div>
        <div class="mb-3">
            <label for="patientDiseases" class="form-label">patient Diseases</label>
            <br>
            <span id="patientDiseases">{{patientDetails?.diseases}}</span>
        </div>
        <div class="mt-3">
            <label for="diseases">Diseases:</label>
            <ng-select [items]="diseaseList" bindLabel="name" bindValue="id" [multiple]="true" (change)="onDiseaseSelectionChange($event)">
            </ng-select>
        </div>
    </form>

    <form [formGroup]="medicineFormGroup">
        <div class="mt-3">
            <label for="diseases">Medicene:</label>
            <ng-select [items]="mediceneList" bindLabel="name" bindValue="id" formControlName="medicineId" [multiple]="true">
            </ng-select>
        </div>
        <div class="mb-3">
            <label for="medicineDosage" class="form-label">Medicine Dosage</label>
            <input type="number" class="form-control" id="medicineDosage" placeholder="Medicine Dosage"
                formControlName="medicineDosage" (ngModelChange)="onMobileNumberChange($event)"
                (keydown.backspace)="restForm()">
        </div>
        <div class="mb-3">
            <label for="medicineDays" class="form-label">Day</label>
            <input type="number" class="form-control" id="medicineDays" placeholder="Day"
                formControlName="medicineDays">
        </div>
        <div class="form-check">
            <input class="form-check-input" type="radio" name="afterBeforeMeal" id="after" [value]="true" formControlName="afterBeforeMeal">
            <label class="form-check-label" for="after">
              After
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="afterBeforeMeal" id="befor" [value]="false" formControlName="afterBeforeMeal">
            <label class="form-check-label" for="befor">
              Befor
            </label>
          </div>
          <div *ngFor="let timing of timings; let i=index" class="col-md-2" formArrayName="medicineTiming">
            <label>
              <input type="checkbox" [value]="timing.id" [formControlName]='i' (change)="onDosageTimingChange($event)" [checked]="timing.selected">
              {{timing.value}}
            </label>
          </div>
    </form>

    <div>
        {{medicineFormGroup.value | json}}
    </div>
</div>